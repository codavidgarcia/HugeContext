---
// CTA Section - Final call to action
---

<section id="install" class="section-hc relative overflow-hidden">
  <!-- Background decoration -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-[var(--accent)]/5 rounded-full blur-3xl"></div>
  </div>
  
  <div class="container-hc relative z-10">
    <div class="max-w-3xl mx-auto text-center">
      <!-- Main content -->
      <h2 class="text-3xl sm:text-4xl md:text-5xl font-semibold tracking-tight text-[var(--text-primary)] mb-6 text-balance">
        Your AI works better with <br/>
        <span class="text-[var(--accent)]">HugeContext.</span>
      </h2>
      
      <p class="text-lg sm:text-xl text-[var(--text-secondary)] max-w-xl mx-auto mb-10">
        Eliminate hallucinations. Start demanding SOTA accuracy. <br/>
        Free for local use.
      </p>
      
      <!-- CTA Buttons -->
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-12">
        <a href="https://marketplace.visualstudio.com/items?itemName=codavidgarcia.hugecontext" class="btn-primary text-lg px-10 py-4">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
          </svg>
          Install HugeContext
        </a>
        <a 
          href="https://github.com" 
          target="_blank" 
          rel="noopener noreferrer"
          class="btn-ghost text-lg px-10 py-4"
        >
          View Documentation
        </a>
      </div>
      
      <!-- Quick install command -->
      <div class="inline-flex items-center gap-4 px-6 py-4 rounded-2xl bg-[var(--bg-elevated)] border border-[var(--border-color)]">
        <code class="font-mono text-body text-[var(--text-secondary)]">
          <span class="text-[var(--text-muted)]">$</span> code --install-extension hugecontext-*.vsix
        </code>
        <button 
          id="cta-copy-btn"
          class="flex items-center justify-center w-8 h-8 rounded-lg text-[var(--text-muted)] hover:text-[var(--accent)] hover:bg-[var(--accent-muted)] transition-colors"
          aria-label="Copy install command"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184" />
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>

<script>
  function initCtaCopy() {
    const btn = document.getElementById('cta-copy-btn');
    if (!btn) return;
    
    btn.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText('code --install-extension hugecontext-*.vsix');
        btn.innerHTML = `
          <svg class="w-4 h-4 text-[var(--success)]" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd" />
          </svg>
        `;
        setTimeout(() => {
          btn.innerHTML = `
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184" />
            </svg>
          `;
        }, 2000);
      } catch (err) {
        console.error('Failed to copy:', err);
      }
    });
  }
  
  initCtaCopy();
  document.addEventListener('astro:after-swap', initCtaCopy);
</script>
